
Guia de creaci√≥ d'un servidor Raspberry Pi Zero en catal√†.

## Taula de continguts:
1. [Preparaci√≥](https://github.com/Pedroos46/raspberry-server/blob/master/guia-catala.md#1-preparaci%C3%B3)
2. [Recomanacions](https://github.com/Pedroos46/raspberry-server/blob/master/guia-catala.md#2-recomanacions)
3. [Configuraci√≥ local](https://github.com/Pedroos46/raspberry-server/blob/master/guia-catala.md#3-comen%C3%A7ant-a-nivell-local)
4. [Obrint el servidor](https://github.com/Pedroos46/raspberry-server/blob/master/guia-catala.md#4-obrint-el-servidor)
5. [VPN, FTP, etc](https://github.com/Pedroos46/raspberry-server/blob/master/guia-catala.md#5-vpn-ftp-etc)



## 1. Preparaci√≥:
Abans de comen√ßar amb la creaci√≥ del servidor hem d'instal¬∑lar el sistema operatiu. Encara que [hi ha varies alternatives](https://www.raspberrypi.org/downloads/) jo far√© servir la distro oficial Raspbian.

### ‚û°Ô∏è Instal¬∑laci√≥ del sistema operatiu:
Podem descarregar Raspbian directament des de [aqui](https://www.raspberrypi.org/downloads/raspbian/).
La instal¬∑laci√≥ no t√© secret, descarreguem la imatge que vulguem i fem servir els [passos proporcionats](https://www.raspberrypi.org/documentation/installation/installing-images/README.md) a la p√†gina oficial.

> -   Download  [Etcher](https://etcher.io/)  and install it.
> -   Connect an SD card reader with the SD card inside.
> -  Open Etcher and select from your hard drive the Raspberry Pi  `.img`  or  `.zip`  file you wish to write to the SD card.
> -  Select the SD card you wish to write your image to.
> -   Review your selections and click 'Flash!' to begin writing data to the SD card.

### ‚û°Ô∏è Configuraci√≥ inicial: 


Un cop instal¬∑lat el sistema operatiu comen√ßarem amb les configuracions.
En aquest punt ens interessa principalment tenir la connexi√≥ wifi configurada i el SSH habilitat.

La idea d'aquesta configuraci√≥ inicial √©s minimitzar treball, si comencem amb aquestes dues configuracions evitem posteriorment tenir connectar a la nostra placa un ratol√≠, un teclat i un monitor.

Per **configurar la connexi√≥ WiFi** ens dirigim en el volum "boot" de la targeta SD on haguem instal¬∑lat el sistema. Un cop a l'arrel del directori vam crear un arxiu anomenat **wpa_supplicant.conf**.

![Creamos el archivo wpa_supplicant.conf](https://raw.githubusercontent.com/Pedroos46/raspberry-server/master/resources/1.png)

Aquest fitxer ha de contenir els seg√ºents detalls:
```bash
network={
    ssid="NETWORK_NAME"
    psk="NETWORK_PASSWORD"
    key_mgmt=WPA-PSK
}
```

Col¬∑locant aquest arxiu aqu√≠ Raspbian el mour√† a **/etc/wpa_supplicant/** quan el sistema arranqui.

Per **habilitar el SSH** crearem en el mateix directori "boot" un arxiu anomenat **ssh** sense cap extensi√≥.

![enter image description here](https://raw.githubusercontent.com/Pedroos46/raspberry-server/master/resources/2.png)


Aquest fitxer ser√† eliminat en arrencar el sistema, per√≤ habilita per defecte el servei SSH. Un cop tinguem aix√≤ fet ja podem continuar.

Podem utilitzar la comanda `touch` des del terminal per agilitzar la creaci√≥ dels arxius. Exemple:

    touch ssh

### ‚û°Ô∏è Comen√ßant amb SSH

Un cop iniciada la Raspberry i el sistema el primer que hem de saber √©s la IP que se li ha assignat per poder establir connexi√≥.

Podem utilitzar un esc√†ner de xarxa per obtenir-la. Si no tenim cap eina una simple [cerca a Google](http://bfy.tw/LSCo) o la botiga d'apps. Jo utilitzar√© una aplicaci√≥ anomenada `Fing`.

Un cop tinguem la IP comencem amb SSH, per a aix√≤ necessitem un servidor SSH a la nostra Raspberry o placa (que ja hem activat en passos anteriors) i un client SSH al nostre ordinador.

Per al client SSH hem de tenir instal¬∑lat un en el nostre ordinador. Si fem servir **Linux** o **MacOS** probablement no caldr√† instal¬∑lar cap, normalment ja l'inclouen

Si fem servir **Windows** podem utilitzar clients com el [Putty] (http://www.putty.org/) o podem fer servir el CMD o el PowerShell de Windows al juntament amb [OpenSSH](http: //www.mls-software .com/opensshd.html). D'altra banda Windows 10 Pro inclou un client SSH ja instal¬∑lat.

El funcionament √©s exactament el mateix tant per a Linux i Mac com per a Windows.

Aix√≠ que tornem a intentar la comanda `ssh`:

	usage: ssh [-1246AaCfGgKkMNnqsTtVvXxYy] [-b bind_address] [-c cipher_spec]
           [-D [bind_address:]port] [-E log_file] [-e escape_char]
           [-F configfile] [-I pkcs11] [-i identity_file]
           [-J [user@]host[:port]] [-L address] [-l login_name] [-m mac_spec]
           [-O ctl_cmd] [-o option] [-p port] [-Q query_option] [-R address]
           [-S ctl_path] [-W host:port] [-w local_tun[:remote_tun]]
           [user@]hostname [command]


De moment nom√©s realitzarem una simple connexi√≥ amb el servidor.

Per fer-ho necessitem **l'usuari** del nostre servidor, en el cas de la Raspberry l'usuari per defecte √©s `pi`, **la IP** de la nostra placa i **la contrasenya** l'usuari, que en el cas de les Raspberry la contrasenya per defecte per a l'usuari `pi` √©s` raspberry`.

	ssh [usuario]@[ip o hostname]
Per lo tant:

    ssh pi@[ip]
    password: raspberry
    

Un cop realitzada la connexi√≥ i el login podrem actuar com si estigu√©ssim en el propi dispositiu.

‚ùóÔ∏èA partir d'aquest punt tot el gestionarem via SSH i el terminal. Podem deixar la Raspberry en un altre costat.


## 2. Recomanacions:

Obrim una connexi√≥ SSH amb la nostra Raspberry amb l'usuari `pi` i ja podem comen√ßar a aplicar els punts que ens interessen.

### ‚û°Ô∏è Assignar una IP local est√†tica:
Molt recomanat ‚úÖ

Un cop tinguem el nostre dispositiu arrencat i connectat a la xarxa local √©s molt recomanable  posar la nostra IP local en est√†tica. El motiu pel qual fem aix√≤ √©s perqu√® m√©s tard, des del router, anem a apuntar la IP del nostre futur servidor de manera que necessitem que aquesta IP no canvi√Ø mai.

Per aconseguir-ho ens dirigirem a la seg√ºent ruta en el nostre sistema: `/etc/network/`

Dins de la carpeta ens trobarem amb un arxiu anomenat `interfaces`. El primer que farem amb aquest fitxer √©s fer una c√≤pia per si cometem algun error. Farem servir la comanda `cp`:

	sudo cp /etc/network/interfaces interfaces.copy
    
Un cop feta la c√≤pia, farem servir `nano` per editar l'arxiu.

	sudo nano -w /etc/network/interfaces

Haurem afegir les l√≠nies que hi ha m√©s avall. √âs probable que `iface xxxx inet nanual/static` ja existeixi, en aquest cas nom√©s afegirem les l√≠nies que ens interessen. Al final hauria de tenir un aspecte com aquest.

    iface wlan0 inet static
      address 192.168.1.180
      gateway 192.168.1.1
      

On posa `address` posarem la IP est√†tica que volem. No estaria de m√©s entrar al nostre router per saber que rang d'IPs podem entrar-li i quin √©s el `gateway` ja que aix√≤ sol estar subjecte al router que tinguem.

‚ùóÔ∏èNormalment `wlan0` √©s la interf√≠cie que s'usa amb connexi√≥ wifi. Si la nostra connexi√≥ √©s per ethernet normalment la interf√≠cie √©s `eth0`. Sempre podem mirar que interf√≠cie estem fent servir amb la comanda `ifconfig`.

Per a m√©s informaci√≥ i per a una altra versions de Linux es pot visitar la seg√ºent [p√†gina](https://www.linode.com/docs/networking/linux-static-ip-configuration).

Un cop ho tinguem, reiniciem la nostra placa i ja hauria de comen√ßar a treballar amb la nova IP est√†tica.

	sudo reboot now



### ‚û°Ô∏è Millorar el rendiment reassignant recursos:

La idea √©s tenir treballant la Raspberry sense necessitat de supervisi√≥ i sense cap perif√®ric connectat. Per tant, podr√≠em reduir la quantitat de recursos que destinem al processament gr√†fic i fins i tot desactivar la interf√≠cie.


Per comen√ßar llan√ßarem l'assistent de configuraci√≥ de Raspbian.
	sudo raspi-config
    
En caso de no tenerlo lo instalamos:  

	sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 7FA3303E
	sudo apt-get update
	sudo apt-get install raspi-config
    
    
Un cop llan√ßat, el primer que farem ser√† desactivar la interf√≠cie d'escriptori, per tant tampoc ens cal tanta capacitat GPU aix√≠ que li reduirem la mem√≤ria.
 
L'assistent √©s bastant visual aix√≠ i per desactivar la interf√≠cie ser√† una cosa aix√≠:
 		
   	Boot options > Desktop / CLI > Console. 
        
Posteriorment li reduirem la mem√≤ria a la GPU assignant-li `16`.
 
 	Advanced options > Memory Split. 
	
 

### ‚û°Ô∏è Crear un nou usuari i eliminar l'usuari per defecte:

Recomanat ‚úÖ

Per motius de seguretat no podem deixar el nostre usuari per defecte habilitat. Per tant en crearem un de nou i eliminarem el per defecte:

Per crear-los farem servir la seg√ºent comanda, el qual cont√© tamb√© els grups de sistema al qual volem que aquest.

	sudo useradd -m -G adm,dialout,cdrom,sudo,audio,video,plugdev,games,users,netdev,input NUEVO-USUARIO
 
Posteriorment li donarem una nova contrasenya.
 
	sudo passwd NUEVO-USUARIO
    
    
Un cop, creat el nou usuari tanquem la connexi√≥ SSH actual escrivint `exit` i ens tornarem a connectar amb el nou usuari.

	ssh NUEVO-USUARIO@[ip o hostname]
    
Un cop dins eliminarem l'usuari per defecte i totes les seves dades. En aquest cas de la Raspberry √©s `pi`, si tenim un altre nom d'usuari hi ha posar dit usuari.
 
 	sudo deluser --remove-all-files pi	
	sudo userdel -r -f pi



### ‚û°Ô∏è Actualitzant el sistema operatiu:

Un altre punt important de seguretat √©s mantenir el sistema operatiu actualitzat, d'aquesta manera ens protegim dels √∫ltims errors de seguretat.

Els seg√ºents comandes s'actualitzaran, no solament el programari del nostre dispositiu, sin√≥ tamb√© les seves llibreries i el propi sistema operatiu.

	sudo apt-get update
    sudo apt-get upgrade
    sudo apt-get dist-upgrade
    
Aquest proc√©s pot trigar una estona. En acabar reiniciem el nostre servidor:

	sudo reboot now
    
### ‚û°Ô∏è Connexions SSH sense contrasenyes:
  C√≤mode üîë
 
En aquest punt volem establir connexions SSH sense necessitat d'introduir la contrasenya. Per a aix√≤ **crearem certificats d'autenticaci√≥** i els intercanviarem entre els dos dispositius.

Primer de tot crearem una clau RSA:

    ssh-keygen -t rsa -b 4096
    
![](https://raw.githubusercontent.com/Pedroos46/raspberry-server/master/resources/3.png)

Seguidament  creem una carpeta en el dispositiu receptor.

    ssh pi@[ip] mkdir -p ssh


Sortim de la connexi√≥ actual amb un "exit" per procedir a copiar la nostra clau.

Ens dirigim mitjan√ßant ordres (o obrim un terminal nou) a la carpeta on els h√†gim generat i executem la seg√ºent comanda.

    cat .ssh/[file-name.pub] | ssh pi@[ip] 'cat >> .ssh/authorized_keys'

D'aquesta forma la nostra clau del dispositiu resideix en el dispositiu receptor, de manera que ja no caldr√† fer √∫s de la contrasenya.


### ‚û°Ô∏è Desactivar connexions amb root via SSH:

Deshabilitarem les connexions a root via SSH per motius de seguretat, per fer-ho modificarem l'arxiu de configuraci√≥ de SSH (`ssh_config`) allotjat en aquesta direcci√≥:

	cd /etc/ssh/
 
Podem usar `nano` per alterar l'arxiu i canviar el` PermitRootLogin` per `no`.

	sudo nano sshd_config
  
L'arxiu a modificar hauria d'estar aix√≠:
    
	# Authentication:	
	...
	PermitRootLogin no
    
Guardem y reiniciem el servei SSH.  

    # service ssh restart
  o
  
    $ sudo service ssh restart

### ‚û°Ô∏è Firewall i Fail2Ban:

Una altra configuraci√≥ extra que podem habilitar √©s el fail2ban.

Fail2ban b√†sicament el que fa √©s detectar i bloquejar una IP quan aquesta, aquesta fent moltes peticions de connexi√≥.

Aquesta mesura √©s completament opcional i relativament simple d'implementar. Per fer √∫s d'fail2ban es pot seguir l'explicaci√≥ d'aquesta [p√†gina](https://www.linode.com/docs/security/using-fail2ban-for-security).


## 3. Comen√ßant a nivell local.

‚û°Ô∏è Es podria dir que fins ara, del punt 1 al 2 tot el que hem fet √©s una posada a punt de la nostra placa. En aquest punt √©s quan vam comen√ßar a muntar el servidor, en aquest cas un servidor web basat en Apache en el qual podem allotjar p√†gines web.

Un cop tinguem tot configurat, comen√ßarem creant i configurant el nostre servidor. Com ja tenim creat el servidor SSH, passarem a crear el lloc web.

Una de les solucions m√©s conegudes per a servidors √©s Web √©s Apache, que √©s el que vaig a utilitzar en aquesta guia.
üòÆExisten altres solucions com Nginx, per√≤ que no s√≥n tan configurables ni f√†cils d'instal¬∑lar, encara que en determinats entorns s√≥n m√©s recomanables que Apache.

Obrim una connexi√≥ SSH amb la nostra Raspberry amb l'usuari `pi`o` NOU-USUARIO` i ja podem comen√ßar amb la instal¬∑laci√≥.

Abans de passar a la instal¬∑laci√≥ el que farem ser√† crear el grup "www-data". Per a aix√≤ executarem les seg√ºents comandes:

    sudo groupadd www-data
	sudo usermod -a -G www-data www-data

Un cop ho tinguem actualitzem i reinciem el servei.

	sudo apt-get update
    sudo apt-get install apache2
    sudo service apache2 restat

Un cop el tinguem instal¬∑lat podem per comprovar com el nostre servidor web aquesta funcionant inserint la IP del nostre servidor al navegador del nostre equip.

‚ùóÔ∏è Aquesta connexi√≥ (HTTP) es realitza per defecte en el port 80. En cas d'afegir un certificat SSL i tenir una connexi√≥ HTTPS es faria pel port 443.

Fins aqu√≠ ja tindr√≠em un gestor de connexions HTTP i ja podr√≠em cagar p√†gines web.

Avui dia Javascript √©s el llenguatge mes est√®s per crear contingut din√†mic en entorns web, a m√©s permet una bona separaci√≥ de client-servidor. Tot i aix√≥ i hi ha altres alternatives com ara **PHP**.

‚ùóÔ∏èD'altra banda depenent del projecte que vulguem dur a terme necessitarem instal¬∑lar o configurar un altre tipus de programari i maquinari: Bases de dades, discs o mem√≤ries externes, etc.

**MySQL** i **PhpMyAdmin** solen ser bones alternatives. **MongoDB** √©s una bona soluci√≥ per a bases de dades escalables.

‚ò¢Ô∏è Apache accepta moltes configuracions i ofereix moltes possibilitats, com llocs virtuals, control d'acc√©s, etc.


## 4. Obrint el servidor.
En aquest apartat obrirem el nostre dispositiu al m√≥n per poder accedir a la nostra p√†gina web o al nostre servidor des de qualsevol part.

Aquest punt pot ser obviat si nom√©s volem un servidor local.

Farem servir un domini gratu√Øt i el servei [**DynDNS**](https://es.wikipedia.org/wiki/DNS_din%C3%A1mico) ens facilita el poder tenir un nom de domini assignat a una IP p√∫blica din√†mica. El procediment seria similar amb un domini propi tamb√©.

**Com funciona DynDNS:** El servei DynDNS s'usa per associar uns serveis o ports d'un equip de la nostra xarxa amb un nom de domini.

> B√†sicament s'associa el **nom de domini** a la **IP p√∫blica din√†mica** que tenim. Instal¬∑lem un client d'actualitzaci√≥, que notifica els canvis de la **IP p√∫blica** al servidor de nom de domini, perqu√® el nom de domini actualitzi sempre la IP p√∫blica a la qual est√† associat.

D'aquesta manera podrem accedir des de fora de la xarxa a l'equip de la nostra xarxa interna que s'associa a aquest nom de domini.

### ‚û°Ô∏è No-IP.
En el meu cas far√© servir 1 domini gratu√Øt de [No-IP](https://www.noip.com/).

‚ùóÔ∏è No-IP ofereix serveis de pagament. Jo far√© servir nom√©s en pla **Free Dynamic DNS** el qual em permet tenir fins a 3 dominos de forma gratu√Øta, tot i que no personalitzats.

‚ùóÔ∏è En cas de tenir un domini propi aquest hauria de ser transferit a No-IP. Tamb√© es poden comprar dominis. Totes aquestes gestions estan subjectes a cobraments, de la mateixa manera que ho est√† el gestor de correu, els certificats SSL, backups, etc.

#### Passos:
El primer que hem de fer √©s dirigir-nos a la [p√†gina](https://www.noip.com/) de No-IP i registrar-nos. Un cop tinguem el nostre compte creat i accedim al panel del nostre compte (en dashboard) veurem un widget anomenat "Quick Add".

![enter image description here](https://raw.githubusercontent.com/Pedroos46/raspberry-server/master/resources/4.png)


Podem triar el domini i el hostname que vulguem sempre que estigui disponible. Aquest hostname i domini ser√† la futura URL que introduirem en el nostre navegador per accedir al servidor apatxe que hem instal¬∑lant anteriorment.

Tamb√© ser√† el hostname que farem servir per establir les connexions SSH en cas que no estiguem a la xarxa local de la Raspberry. Ja que, recordo, que aquesta URL correspondr√† a la IP publica de la nostra Raspberry.

Un cop tinguem el hostname creat, podem procedir a la instal¬∑laci√≥ del servei DynDNS. Jo usi el client DynDNS que proporciona No-IP.

Les instruccions les trobem en [Dynamic Update Client(https://my.noip.com/#!/dynamic-dns/duc) dins de l'apartat **Dynamic DNS**

Els passos s√≥n bastant simples:

> 1.  Download the DUC and save the file to:  /usr/local/src
>
> 2.  Open terminal and execute the following:
    -   cd /usr/local/src
    -   tar xzf noip-duc-linux.tar.gz
    -   cd no-ip-2.1.9
    -   make
    -   make install
 >   
> 3.  Create the configuration file:  /usr/local/bin/noip2 -C
>4.  You will be prompted to enter your username and password for No-IP, and for the hostnames you wish to update.
>
>5.  Launch the DUC:  /usr/local/bin/noip2


Tots aquestes comandes han de ser executats en el terminal en el qual tinguem iniciada la connexi√≥ SSH amb la nostra placa.

Per descarregar el paquet a la nostra Raspberry i no al nostre ordinador. Podem copiar l'enlla√ß de desc√†rrega i despr√©s usar la comanda `wget`.

![enter image description here](https://raw.githubusercontent.com/Pedroos46/raspberry-server/master/resources/5.png)

Abans d'executar aquesta comanda seria interessant dirigir-se en el directori que se'ns demana que es descarregui per evitar despr√©s haver de moure-ho.
Per tant:
 

    cd /usr/local/src
    wget https://www.noip.com/client/linux/noip-duc-linux.tar.gz


D'aquesta manera via SSH descarreguem el paquet directament a la nostra Raspberry i en el directori que ens interessa.

Existeix tamb√© un v√≠deo proporcionat per No-IP on es pot seguir visualment els passos a seguir:

[![IMAGE ALT TEXT](http://img.youtube.com/vi/8xp4kkbsZi0/0.jpg)](http://www.youtube.com/watch?v=8xp4kkbsZi0 "How to Download and Configure the No-IP Dynamic Update Client on Linux")

En cas de no tenir  `wget` instalat:

    sudo apt-get install wget
	

Un cop acabat aquest proc√©s cal procedir a obrir els ports que ens interessen del router. Per accedir al router generalment hem de teclejar en el navegador la IP del router, podem usar una altra vegada el escanner d'IPs o Fing per saber com √©s.

‚ùóÔ∏è Cal assegurar que tenim **acc√©s al panel de control de router** per a la redirecci√≥ de ports.

Un cop dins el tauler de control del router, ens dirigim l'opci√≥ que posi **Port Forwarding** o **Redirecci√≥ de Ports**.

Aquesta part pot ser diferent segons el router que estiguem configurant. Per√≤ b√†sicament el que hem de fer redireccionar els ports.

La configuraci√≥ que ens trobarem ser√† una cosa semblant a aix√≤:

![enter image description here](https://raw.githubusercontent.com/Pedroos46/raspberry-server/master/resources/6.png)


El funcionament √©s simple. La connexions que entrin en un determinat port per `from` han de ser redirigides cap a la `IP Address` de la nostra Raspberry, amb el mateix port per `to`, sempre que aquest no hagi estat configurat per un altre, que no hauria de ser el nostre cas.

Exemple:

> Si nosaltres fem una petici√≥ a la nostra IP publica pel port 80
> (Fent servir el nostre hostname) aquesta quan 'entri' ser√† redirigida cap a la
> IP local al port 80, aquesta IP local ser√† la de la nostra Raspberry i
> El port 80, que √©s el port per defecte de navegaci√≥ web, ser√† escoltada per Apache.

Com ja he dit el port 80 sol ser el port per defecte de navegaci√≥ de manera que si ens entra una connexi√≥ pel port 80 (`Port from`) hem de redireccionar amb `Port to` cap a la `IP Address` est√†tica de la nostra Raspberry .

El mateix succeeix amb les connexions SSH que es realitzen pel port 22.

Per tant despr√©s de configurar la connexions web i les connexions SSH hauria de quedar-nos alguna cosa aix√≠:
![enter image description here](https://raw.githubusercontent.com/Pedroos46/raspberry-server/master/resources/7.png)


Un cop configurat tot, el nostre servidor ja pot ser accessible des d'on vulguem üöÄ.

## 5. VPN, FTP, etc.


Un cop creat un servidor web amb SSH i haver-ho fet accessible fora de la xarxa local, podem extrapolar tot l'apr√®s a altres solucions, com ara un gestor de fitxers FTP per poder enviar les nostres p√†gines web al servidor de manera c√≤moda o un servidor VPN per poder encapsular les nostres connexions.

### ‚û°Ô∏è FTP

Primer anem a descarregar el servidor `vsftpd`. Aquest ser√† l'encarregat de gestionar les connexions i la transfer√®ncia d'arxius.

    sudo apt-get install vsftpd

Una vegada que aquest descarregat obrim el seg√ºent arxiu de configuraci√≥.

    sudo nano /etc/vsftpd.conf

S'ha de descomentar les seg√ºents l√≠nies. Aquestes l√≠nies permeten l'escriptura d'arxius als usuaris de la Raspberry Pi.

>    local_enable=YES
>  
>   write_enable=YES

Finalment reiniciem el servei.

    sudo service vsftpd restart

Ara ja tenim el servei de servidor instal¬∑lat. Ara procedim a instal¬∑lar el client.

Per sort nostra ha un genial programa open-source anomenat **FireZilla**, procedim a [descarregar-lo](https://filezilla-project.org/) i instal-lo.

Un cop instal¬∑lat i obert veurem alguna cosa similar a aix√≤:

![](https://raw.githubusercontent.com/Pedroos46/raspberry-server/master/resources/8.png)


-   servidor :  [IP de la Raspberry] o [URL]
-   nom d'usuari: [pi] o [nuevo-usuario]
-   contrasenya: la contrase√±a del usuario.


En quan haguem establert la connexi√≥, transferir arxius √©s tan f√†cil com arrossegar i deixar anar.

‚ö†Ô∏è Si volem realitzar connexions usant el nostre hostname o la nostra URL haurem de **habilitar al router la redirecci√≥ del port per defecte en connexions FTP, el 21**, ja que repeteixo, les connexions que realitzem usant el hostname es fan amb la IP publica i per tant requereixen una redirecci√≥ per arribar a la IP local de l'Raspberry.


üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Si volem utilitzar el nostre servidor FTP amb diversos comptes, per√≤ no volem que aquestes tinguin acc√©s total podem crear un usuari nou en el nostre sistema i atorgar-sol permisos en certes carpetes o en un directori principal. Una forma molt b√†sica de fer-ho seria aix√≠:

    sudo useradd NUEVO-USUARIO-FTP

Creem una carpeta en la qual el geekyuser podr√† crear tots els directoris que vulgui.

    sudo mkdir /home/NUEVO-USUARIO-FTP

Donem permisos a l'usuari creat.

    sudo chown NUEVO-USUARIO-FTP:users /home/NUEVO-USUARIO-FTP

Finalment vam crear una contrasenya per a l'usuari

    sudo passwd NUEVO-USUARIO-FTP

‚ò¢Ô∏è El servei FTP, igual que Apache, accepta moltes altres configuracions, de manera que √©s possible fer un √∫s m√©s intensiu i personalitzat.

### ‚û°Ô∏è VPN
üöÄ OpenVPN Easy-RSA:

[http://carlini.es/crear-un-servidor-vpn-en-una-raspberry-pi/](http://carlini.es/crear-un-servidor-vpn-en-una-raspberry-pi/)
